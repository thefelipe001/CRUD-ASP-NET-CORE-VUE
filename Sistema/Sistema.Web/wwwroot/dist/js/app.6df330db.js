(function(t){function e(e){for(var i,r,n=e[0],c=e[1],l=e[2],v=0,u=[];v<n.length;v++)r=n[v],o[r]&&u.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(u.length)u.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,n=1;n<a.length;n++){var c=a[n];0!==o[c]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},o={app:0},s=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var i=a("2b0e"),o=a("d437"),s=a.n(o),r=a("d421"),n=a.n(r),c=a("535c"),l=a.n(c),d=a("d0ba"),v=a.n(d),u=a("e1f0"),m=a.n(u),h=a("5d92"),f=a.n(h),p=a("6a6f"),b=a.n(p),_=a("d553"),x=a.n(_),g=a("12d0"),k=a.n(g),A=a("c713"),w=a.n(A),C=a("68d6"),y=a.n(C),I=a("cf3f"),M=a.n(I),D=a("db3b"),j=a.n(D),N=a("46db"),$=a.n(N),O=a("3ace"),S=a.n(O),E=a("2330"),T=a.n(E);a("da64");i["default"].use(s.a,{components:{VApp:n.a,VNavigationDrawer:l.a,VFooter:v.a,VList:m.a,VBtn:f.a,VIcon:b.a,VGrid:x.a,VToolbar:k.a,VCard:w.a,VDivider:y.a,VDialog:M.a,VTextField:j.a,VDataTable:$.a,VSelect:S.a,transitions:T.a},theme:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}});var z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"app"}},[t.logueado?a("v-navigation-drawer",{attrs:{fixed:"",clipped:t.$vuetify.breakpoint.mdAndUp,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t.esAdministrador||t.esAlmacenero||t.esVendedor?[a("v-list-tile",{attrs:{to:{name:"home"}}},[a("v-list-tile-action",[a("v-icon",[t._v("home")])],1),a("v-list-tile-title",[t._v("\n            Inicio\n          ")])],1)]:t._e(),t.esAdministrador||t.esAlmacenero?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Almacén\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"categorias"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Categorías\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"articulos"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Artículos\n              ")])],1)],1)],1)]:t._e(),t.esAdministrador?[a("v-list-group",[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Accesos\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"roles"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Roles\n              ")])],1)],1),a("v-list-tile",{attrs:{to:{name:"usuarios"}}},[a("v-list-tile-action",[a("v-icon",[t._v("table_chart")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                Usuarios\n              ")])],1)],1)],1)]:t._e()],2)],1):t._e(),a("v-toolbar",{attrs:{color:"blue darken-3",dark:"",app:"","clipped-left":t.$vuetify.breakpoint.mdAndUp,fixed:""}},[a("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("span",{staticClass:"hidden-sm-and-down"},[t._v("Sistema")])],1),a("v-spacer"),t.logueado?a("v-btn",{attrs:{icon:""},on:{click:t.salir}},[a("v-icon",[t._v("logout")]),t._v(" Salir\n    ")],1):a("v-btn",{attrs:{to:{name:"login"}}},[a("v-icon",[t._v("apps")]),t._v(" Login\n    ")],1)],1),a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1),a("v-footer",{attrs:{dark:"",height:"auto"}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{"text-xs-center":""}},[a("v-card",{staticClass:"white--text",attrs:{flat:"",tile:"",color:"primary"}},[a("v-card-text",{staticClass:"white--text pt-0"},[t._v("\n            FM2021\n          ")])],1)],1)],1)],1)],1)},B=[],P={name:"App",data:function(){return{clipped:!1,drawer:!0,fixed:!1,items:[{icon:"bubble_chart",title:"Inspire"}],miniVariant:!1,right:!0,rightDrawer:!1,title:"Vuetify.js"}},computed:{logueado:function(){return this.$store.state.usuario},esAdministrador:function(){return this.$store.state.usuario&&"Administrador"==this.$store.state.usuario.rol},esAlmacenero:function(){return this.$store.state.usuario&&"Almacenero"==this.$store.state.usuario.rol},esVendedor:function(){return this.$store.state.usuario&&"Vendedor"==this.$store.state.usuario.rol}},created:function(){this.$store.dispatch("autoLogin")},methods:{salir:function(){this.$store.dispatch("salir")}}},V=P,U=a("2877"),R=Object(U["a"])(V,z,B,!1,null,null,null);R.options.__file="App.vue";var L=R.exports,F=a("8c4f"),q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("v-layout",{attrs:{column:"","align-center":""}},[a("blockquote",[a("footer",[a("small",[a("em",[t._v("— *CRUD EMPLEADOS*")])])])])])],1)],1)},G=[],J=(a("a311"),{}),H=Object(U["a"])(J,q,G,!1,null,"2efc8421",null);H.options.__file="Home.vue";var K=H.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Categorías")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v("\n                            Estás a punto de \n                            "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                            el ítem "+t._s(t.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                Cancelar\n                            ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                Activar\n                            ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                Desactivar\n                            ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.categorias,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.descripcion))]),a("td",[e.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},W=[],X=a("bc3a"),Y=a.n(X),Z={data:function(){return{categorias:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}],search:"",editedIndex:-1,id:"",nombre:"",descripcion:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva categoría":"Actualizar categoría"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};Y.a.get("api/Categorias/Listar",a).then(function(e){t.categorias=e.data}).catch(function(t){console.log(t)})},editItem:function(t){this.id=t.idcategoria,this.nombre=t.nombre,this.descripcion=t.descripcion,this.editedIndex=1,this.dialog=!0},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1)},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.nombre="",this.descripcion="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;Y.a.put("api/Categorias/Actualizar",{idcategoria:a.id,nombre:a.nombre,descripcion:a.descripcion},e).then(function(t){a.close(),a.listar(),a.limpiar()}).catch(function(t){console.log(t)})}else{var i=this;Y.a.post("api/Categorias/Crear",{nombre:i.nombre,descripcion:i.descripcion},e).then(function(t){i.close(),i.listar(),i.limpiar()}).catch(function(t){console.log(t)})}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres"),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e.idcategoria,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};Y.a.put("api/Categorias/Activar/"+this.adId,{},a).then(function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()}).catch(function(t){console.log(t)})},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};Y.a.put("api/Categorias/Desactivar/"+this.adId,{},a).then(function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()}).catch(function(t){console.log(t)})}}},tt=Z,et=Object(U["a"])(tt,Q,W,!1,null,null,null);et.options.__file="Categoria.vue";var at=et.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Artículos")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Código"},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.categorias,label:"Categoría"},model:{value:t.idcategoria,callback:function(e){t.idcategoria=e},expression:"idcategoria"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Stock"},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"number",label:"Precio Venta"},model:{value:t.precio_venta,callback:function(e){t.precio_venta=e},expression:"precio_venta"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Descripción"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v("\n                            Estás a punto de \n                            "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                            el ítem "+t._s(t.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                Cancelar\n                            ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                Activar\n                            ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                Desactivar\n                            ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.articulos,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.codigo))]),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.categoria))]),a("td",[t._v(t._s(e.item.stock))]),a("td",[t._v(t._s(e.item.precio_venta))]),a("td",[t._v(t._s(e.item.descripcion))]),a("td",[e.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},ot=[],st={data:function(){return{articulos:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Código",value:"codigo",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Categoría",value:"categoria"},{text:"Stock",value:"stock",sortable:!1},{text:"Precio Venta",value:"precio_venta",sortable:!1},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}],search:"",editedIndex:-1,id:"",idcategoria:"",categorias:[],codigo:"",nombre:"",stock:0,precio_venta:0,descripcion:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo artículo":"Actualizar artículo"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};Y.a.get("api/Articulos/Listar",a).then(function(e){t.articulos=e.data}).catch(function(t){console.log(t)})},select:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e},i=[];Y.a.get("api/Categorias/Select",a).then(function(e){i=e.data,i.map(function(e){t.categorias.push({text:e.nombre,value:e.idcategoria})})}).catch(function(t){console.log(t)})},editItem:function(t){this.id=t.idarticulo,this.idcategoria=t.idcategoria,this.codigo=t.codigo,this.nombre=t.nombre,this.stock=t.stock,this.precio_venta=t.precio_venta,this.descripcion=t.descripcion,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.idcategoria="",this.codigo="",this.nombre="",this.stock="",this.precio_venta="",this.descripcion="",this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;Y.a.put("api/Articulos/Actualizar",{idarticulo:a.id,idcategoria:a.idcategoria,codigo:a.codigo,nombre:a.nombre,stock:a.stock,precio_venta:a.precio_venta,descripcion:a.descripcion},e).then(function(t){a.close(),a.listar(),a.limpiar()}).catch(function(t){console.log(t)})}else{var i=this;Y.a.post("api/Articulos/Crear",{idcategoria:i.idcategoria,codigo:i.codigo,nombre:i.nombre,stock:i.stock,precio_venta:i.precio_venta,descripcion:i.descripcion},e).then(function(t){i.close(),i.listar(),i.limpiar()}).catch(function(t){console.log(t)})}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>50)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres."),this.idcategoria||this.validaMensaje.push("Seleccione una categoría."),this.stock&&0!=this.stock||this.validaMensaje.push("Ingrese el stock inicial del artículo."),this.precio_venta&&0!=this.precio_venta||this.validaMensaje.push("Ingrese el precio de venta del artículo."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e.idarticulo,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};Y.a.put("api/Articulos/Activar/"+this.adId,{},a).then(function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()}).catch(function(t){console.log(t)})},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};Y.a.put("api/Articulos/Desactivar/"+this.adId,{},a).then(function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()}).catch(function(t){console.log(t)})}}},rt=st,nt=Object(U["a"])(rt,it,ot,!1,null,null,null);nt.options.__file="Articulo.vue";var ct=nt.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Roles")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer")],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.roles,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.descripcion))]),a("td",[e.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},dt=[],vt={data:function(){return{roles:[],dialog:!1,headers:[{text:"Nombre",value:"nombre"},{text:"Descripción",value:"descripcion",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}],search:""}},computed:{},watch:{},created:function(){this.listar()},methods:{listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};Y.a.get("api/Roles/Listar",a).then(function(e){t.roles=e.data}).catch(function(t){console.log(t)})}}},ut=vt,mt=Object(U["a"])(ut,lt,dt,!1,null,null,null);mt.options.__file="Rol.vue";var ht=mt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":""}},[a("v-flex",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Usuarios")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{staticClass:"text-xs-center",attrs:{"append-icon":"search",label:"Búsqueda","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Nuevo")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.roles,label:"Rol"},model:{value:t.idrol,callback:function(e){t.idrol=e},expression:"idrol"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.documentos,label:"Tipo Documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Número Documento"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Dirección"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Teléfono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{xs12:"",sm12:"",md12:""}},t._l(t.validaMensaje,function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})}))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.guardar(e)}}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Item?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Desactivar Item?")]):t._e(),a("v-card-text",[t._v("\n                            Estás a punto de \n                            "),1==t.adAccion?a("span",[t._v("Activar ")]):t._e(),2==t.adAccion?a("span",[t._v("Desactivar ")]):t._e(),t._v("\n                            el ítem "+t._s(t.adNombre)+"\n                        ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:t.activarDesactivarCerrar}},[t._v("\n                                Cancelar\n                            ")]),1==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.activar}},[t._v("\n                                Activar\n                            ")]):t._e(),2==t.adAccion?a("v-btn",{attrs:{color:"orange darken-4",flat:"flat"},on:{click:t.desactivar}},[t._v("\n                                Desactivar\n                            ")]):t._e()],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usuarios,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n                    edit\n                    ")]),e.item.condicion?[a("v-icon",{attrs:{small:""},on:{click:function(a){t.activarDesactivarMostrar(2,e.item)}}},[t._v("\n                        block\n                        ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(a){t.activarDesactivarMostrar(1,e.item)}}},[t._v("\n                        check\n                        ")])]],2),a("td",[t._v(t._s(e.item.nombre))]),a("td",[t._v(t._s(e.item.rol))]),a("td",[t._v(t._s(e.item.tipo_documento))]),a("td",[t._v(t._s(e.item.num_documento))]),a("td",[t._v(t._s(e.item.direccion))]),a("td",[t._v(t._s(e.item.telefono))]),a("td",[t._v(t._s(e.item.email))]),a("td",[e.item.condicion?a("div",[a("span",{staticClass:"blue--text"},[t._v("Activo")])]):a("div",[a("span",{staticClass:"red--text"},[t._v("Inactivo")])])])]}}])},[a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Resetear")])],1)],2)],1)],1)},pt=[],bt={data:function(){return{usuarios:[],dialog:!1,headers:[{text:"Opciones",value:"opciones",sortable:!1},{text:"Nombre",value:"nombre"},{text:"Rol",value:"rol"},{text:"Tipo Documento",value:"tipo_documento"},{text:"Número Documento",value:"num_documento",sortable:!1},{text:"Dirección",value:"direccion",sortable:!1},{text:"Teléfono",value:"telefono",sortable:!1},{text:"Email",value:"email",sortable:!1},{text:"Estado",value:"condicion",sortable:!1}],search:"",editedIndex:-1,id:"",idrol:"",roles:[],nombre:"",tipo_documento:"",documentos:["DNI","RUC","PASAPORTE","CEDULA"],num_documento:"",direccion:"",telefono:"",email:"",password:"",actPassword:!1,passwordAnt:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"Nuevo usuario":"Actualizar usuario"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.listar(),this.select()},methods:{listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};Y.a.get("api/Usuarios/Listar",a).then(function(e){t.usuarios=e.data}).catch(function(t){console.log(t)})},select:function(){var t=this,e=[],a={Authorization:"Bearer "+this.$store.state.token},i={headers:a};Y.a.get("api/Roles/Select",i).then(function(a){e=a.data,e.map(function(e){t.roles.push({text:e.nombre,value:e.idrol})})}).catch(function(t){console.log(t)})},editItem:function(t){this.id=t.idusuario,this.idrol=t.idrol,this.nombre=t.nombre,this.tipo_documento=t.tipo_documento,this.num_documento=t.num_documento,this.direccion=t.direccion,this.telefono=t.telefono,this.email=t.email,this.password=t.password_hash,this.passwordAnt=t.password_hash,this.editedIndex=1,this.dialog=!0},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.idrol="",this.nombre="",this.tipo_documento="",this.num_documento="",this.direccion="",this.telefono="",this.email="",this.password="",this.passwordAnt="",this.actPassword=!1,this.editedIndex=-1},guardar:function(){if(!this.validar()){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;a.password!=a.passwordAnt&&(a.actPassword=!0),Y.a.put("api/Usuarios/Actualizar",{idusuario:a.id,idrol:a.idrol,nombre:a.nombre,tipo_documento:a.tipo_documento,num_documento:a.num_documento,direccion:a.direccion,telefono:a.telefono,email:a.email,password:a.password,act_password:a.actPassword},e).then(function(t){a.close(),a.listar(),a.limpiar()}).catch(function(t){console.log(t)})}else{var i=this;Y.a.post("api/Usuarios/Crear",{idrol:i.idrol,nombre:i.nombre,tipo_documento:i.tipo_documento,num_documento:i.num_documento,direccion:i.direccion,telefono:i.telefono,email:i.email,password:i.password},e).then(function(t){i.close(),i.listar(),i.limpiar()}).catch(function(t){console.log(t)})}}},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<3||this.nombre.length>100)&&this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 100 caracteres."),this.idrol||this.validaMensaje.push("Seleccione un rol."),this.tipo_documento||this.validaMensaje.push("Seleccione un tipo documento."),this.email||this.validaMensaje.push("Ingrese el email del usuario."),this.password||this.validaMensaje.push("Ingrese el password del usuario."),this.validaMensaje.length&&(this.valida=1),this.valida},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e.idusuario,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};Y.a.put("api/Usuarios/Activar/"+this.adId,{},a).then(function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()}).catch(function(t){console.log(t)})},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};Y.a.put("api/Usuarios/Desactivar/"+this.adId,{},a).then(function(e){t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()}).catch(function(t){console.log(t)})}}},_t=bt,xt=Object(U["a"])(_t,ft,pt,!1,null,null,null);xt.options.__file="Usuario.vue";var gt=xt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md6:"",lg5:"",xl4:""}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"blue darken-3"}},[a("v-toolbar-title",{staticStyle:{color:"red"}},[t._v("\n                  INICIAR SESION\n                ")])],1),a("v-card-text",[a("v-text-field",{attrs:{autofocus:"",color:"accent",label:"Email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{type:"password",color:"accent",label:"Password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t.error?a("v-flex",{staticClass:"red--text"},[t._v("\n                    "+t._s(t.error)+"\n                ")]):t._e()],1),a("v-card-actions",{staticClass:"px-3 pb-3"},[a("v-flex",{attrs:{"text-xs-right":""}},[a("v-btn",{attrs:{color:"primary"},on:{click:t.ingresar}},[t._v("Ingresar")])],1)],1)],1)],1)],1)},At=[],wt={data:function(){return{email:"",password:"",error:null}},methods:{ingresar:function(){var t=this;this.error=null,Y.a.post("api/Usuarios/Login",{email:this.email,password:this.password}).then(function(t){return t.data}).then(function(e){t.$store.dispatch("guardarToken",e.token),t.$router.push({name:"home"})}).catch(function(e){400==e.response.status?t.error="No es un email válido":404==e.response.status?t.error="No existe el usuario o sus datos son incorrectos":t.error="Ocurrió un error"})}}},Ct=wt,yt=Object(U["a"])(Ct,kt,At,!1,null,null,null);yt.options.__file="Login.vue";var It=yt.exports,Mt=a("2f62"),Dt=a("04e1"),jt=a.n(Dt);i["default"].use(Mt["a"]);var Nt=new Mt["a"].Store({state:{token:null,usuario:null},mutations:{setToken:function(t,e){t.token=e},setUsuario:function(t,e){t.usuario=e}},actions:{guardarToken:function(t,e){var a=t.commit;a("setToken",e),a("setUsuario",jt()(e)),localStorage.setItem("token",e)},autoLogin:function(t){var e=t.commit,a=localStorage.getItem("token");a&&(e("setToken",a),e("setUsuario",jt()(a))),Ot.push({name:"home"})},salir:function(t){var e=t.commit;e("setToken",null),e("setUsuario",null),localStorage.removeItem("token"),Ot.push({name:"login"})}}});i["default"].use(F["a"]);var $t=new F["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:K,meta:{administrador:!0,almacenero:!0,vendedor:!0}},{path:"/categorias",name:"categorias",component:at,meta:{administrador:!0,almacenero:!0}},{path:"/articulos",name:"articulos",component:ct,meta:{administrador:!0,almacenero:!0}},{path:"/roles",name:"roles",component:ht,meta:{administrador:!0}},{path:"/usuarios",name:"usuarios",component:gt,meta:{administrador:!0}},{path:"/login",name:"login",component:It,meta:{libre:!0}}]}),Ot=$t;i["default"].config.productionTip=!1,Y.a.defaults.baseURL="https://localhost:5001/",new i["default"]({router:Ot,store:Nt,render:function(t){return t(L)}}).$mount("#app")},"6c3e":function(t,e,a){},a311:function(t,e,a){"use strict";var i=a("6c3e"),o=a.n(i);o.a}});
//# sourceMappingURL=app.6df330db.js.map